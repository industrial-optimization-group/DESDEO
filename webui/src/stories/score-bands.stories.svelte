<script module>
	import { defineMeta } from '@storybook/addon-svelte-csf';
	import { SCOREBands } from '$lib/components/visualizations/score-bands';

	// [1, 8, 5, 3, 0, 7, 4, 2, 6]
	const { Story } = defineMeta({
		title: 'Example/SCOREBands',
		component: SCOREBands,
		tags: ['autodocs'],
		argTypes: {
			data: { control: 'object' },
			axisNames: { control: 'object' },
			axisPositions: { control: 'object' },
			axisSigns: { control: 'object' },
			groups: { control: 'object' },
			options: { control: 'object' },
			clusterVisibility: { control: 'object' },
			axisOrder: { control: 'object' }
		},
		args: {
			data: [
				[-258.8, 258.8, 129.4, 129.4, 258.8, 258.8, 258.8, -258.8, 258.8],
				[-342.28, 342.28, -37.56, 296.36, 91.84, 425.76, 175.32, -342.28, 425.76],
				[-44.8, 44.8, 557.4, -84.6, 472.8, 44.8, 686.8, -472.8, -169.2],
				[-151, 305, 114, 191, 228, 305, 228, -151, 228],
				[-119.667, 119.667, 268.533, 129.4, 537.067, 258.8, 537.067, 19.467, 119.667],
				[-205.956, 344.122, -225.467, 364.522, -132.911, 503.133, 26.1, -205.956, 457.078],
				[-285.843, 285.843, 75.313, 277.548, 110.652, 406.948, 325.817, -473.965, 312.887],
				[-200.6, 354.6, 14.8, 290.2, 128.8, 404.2, 178.4, -200.6, 327.2],
				[-529.923, 362.385, -77.769, 202.538, 68.385, 432.462, 222.231, -529.923, 432.462],
				[-54.057, 54.057, 538.886, -56.829, 445.029, 72.571, 686.8, -500.571, -150.686],
				[-92.183, -48.211, 603.028, -170.592, 537.732, -13.113, 690.31, -502.634, -270.986],
				[1.105, 64.474, 550.842, -58.368, 459.684, 64.474, 673.684, -426.895, -182.316],
				[-83.227, 83.227, 326.836, 107.536, 588.082, 236.936, 609.945, 26.755, 61.364],
				[373.4, 236.6, -273.6, 236.6, -273.6, 373.4, -136.8, 373.4, 136.8],
				[7, 147, 430, 33, 386, 147, 544, -309, -88],
				[-450, 374, -1, 99, 136, 374, 274, -450, 274],
				[-68.333, 222.333, 196.667, 191, 393.333, 305, 393.333, 14.333, 145.333],
				[-148.818, -26.091, 344.327, 33.2, 688.655, 197.582, 601.2, 74.855, -26.091],
				[20.625, 69.562, 216.425, 135.412, 492.975, 270.825, 523.038, 191.825, 69.562],
				[-236.273, 148.818, 221.891, 94.418, 487.509, 276.291, 531.236, -108.8, 148.818],
				[-257.91, 293.535, 12.43, 297.528, 50.297, 429.303, 268.098, -421.977, 335.395],
				[38.902, 359.488, -276.024, 397.732, -223.122, 523.951, -58.659, 38.902, 361.415],
				[-464.267, 360.267, -128.6, 235.367, 4.317, 454.7, 171.4, -464.267, 440.933],
				[32.488, 187.712, -120.464, 286.864, 48.656, 430.944, 193.448, 130.928, 259.104],
				[-282.283, 286.391, 68.739, 279.739, 103.804, 409.413, 320.065, -468.761, 314.804],
				[-164.652, 318.652, 86.696, 278.217, 140.783, 392.217, 274.261, -284.478, 255.304],
				[-316.776, 288.431, 70.137, 261.404, 106.955, 407.81, 335.923, -507.608, 312.394],
				[-284.402, 284.402, 77.491, 276.597, 113.014, 405.997, 328.486, -472.861, 310.709],
				[-259, 259, 129, 239.2, 149, 368.6, 368, -477.8, 259.2],
				[-432.897, 386.641, -29.256, 154.026, 104.769, 408.205, 246.487, -432.897, 311.179],
				[-477.435, 337.522, -28.043, 210.826, 79.435, 424.174, 271.957, -549.261, 388.261],
				[-510.759, 271.357, 42.004, 87.556, 257.627, 360.598, 404.286, -448.477, 298.315],
				[-67.08, 24.431, 555.488, -87.064, 468.866, 50.866, 687.866, -505.522, -184.348],
				[-43.595, 57.955, 538.27, -52.315, 443.387, 75.649, 683.928, -489.288, -154.378],
				[-319.274, 186.428, 274.143, 41.382, 253.826, 250.49, 547.312, -645.278, 87.487],
				[-94.893, 94.893, 330.169, 129.201, 513.088, 258.601, 623.278, -114.9, 58.031],
				[-189.16, -203.64, 614.32, -266.24, 689.84, -58.28, 673.04, -403, -383.24],
				[95.467, -366.4, 529.6, -366.4, 366.4, -298.667, 461.867, -298.667, -597.333],
				[116.533, 43.8, 459.533, -53.2, 342.533, 76.533, 589.267, -311.467, -201.267],
				[-133.8, 191.8, 350, 10.6, 331.6, 191.8, 531.2, -417.8, -36.8],
				[54.158, 99.842, 488.947, 21.211, 468.526, 135.211, 638.316, -250.053, -146.947],
				[277.5, -150.5, 428, -150.5, 214, -150.5, 428, -150.5, -428],
				[32.273, 121.727, 357.636, 130.636, 534.182, 244.636, 594.545, 34.455, -15.636],
				[-39.5, 39.5, 276.55, 105.35, 553.1, 210.7, 553.1, 131.7, 39.5],
				[333.04, 276.96, -354.32, 317.32, -354.32, 454.12, -177.16, 333.04, 217.52],
				[453, 157, -114.4, 157, -194, 293.8, 22.4, 293.8, -22.4],
				[490.4, 119.6, -156.6, 236.6, -39.6, 373.4, 97.2, 607.4, 19.8],
				[440.633, 119.898, 16.694, 107.531, -95.061, 241.857, 151.02, 192.388, -101.551],
				[-408.5, 332.5, 82, 57.5, 177.5, 332.5, 357, -491.5, 191],
				[-421, 345, 28, 99, 194, 374, 332, -392, 245],
				[330.312, 101.812, 39.062, 218.812, 245, 346.719, 328.438, 491.781, 10.906],
				[-243.268, -165.877, 369.64, -54.072, 780.838, 157.157, 597.044, 58.987, -145.098],
				[-148.818, -105.797, 376.21, -22.594, 752.42, 165.699, 585.259, 122.678, -145.65],
				[-290.833, -289.833, 445.767, -189.967, 891.533, 55.567, 601.2, 54.567, -289.833],
				[122.525, 60.571, 104.135, 173.575, 362.303, 315.182, 439.319, 300.119, 76.556],
				[284.9, 82.35, 71.5, 199.35, 296.9, 330.5, 373.85, 456.1, 14.15],
				[-425.276, 337.822, 32.887, 94.418, 204.004, 370.793, 342.233, -392.305, 243.32],
				[-230.066, 296.222, 2.172, 302.495, 36.782, 433.048, 254.014, -390.877, 327.335],
				[-307.924, 288.605, 63.869, 266.384, 100.152, 410.335, 328.071, -496.542, 314.546],
				[130.332, 328.865, -391.337, 384.838, -361.145, 479.555, -180.418, 130.332, 297.238],
				[26.459, 350.101, -232.146, 385.143, -188.703, 510.271, -13.616, -3.375, 340.458],
				[-264.545, 381.549, -158.067, 237.004, -57.892, 464.522, 117.377, -264.545, 331.25],
				[242.923, 233.337, -193.092, 336.214, -79.84, 466.327, 73.332, 322.741, 196.718],
				[59.745, 332.961, -290.235, 396.784, -255.333, 495.529, -92.765, 59.745, 331.098],
				[-430.662, 254.653, 1.017, 108.15, 211.943, 375.49, 373.026, -358.653, 287.314],
				[11.2, 120.301, -18.037, 180.58, 209.702, 370.166, 351.871, 157.46, 154.363],
				[-346.56, 342.678, 54.433, 170.446, 122.249, 394.963, 331.236, -470.505, 240.203],
				[-45.64, 199.64, 266.48, 199.72, 335.76, 313.72, 494.56, -193.32, 75.52],
				[-358.272, 328.301, 55.654, 186.71, 115.254, 399.348, 339.34, -503.866, 261.296],
				[-315.09, 286.842, 72.542, 260.417, 109.557, 406.765, 338.814, -506.283, 310.008],
				[-316.25, 259, 129, 199.125, 149, 362.875, 396.625, -546.5, 247.75],
				[-452.568, 250.49, 88.828, 106.387, 254.742, 357.035, 446.021, -477.148, 258.956],
				[-316.566, 188.284, 272.957, 43.33, 252.548, 252.224, 545.791, -641.84, 87.061],
				[40.189, 113.811, 440.523, 73.36, 457.351, 187.36, 628.072, -210.009, -98.523],
				[-318.838, 196.895, 186.85, 130.492, 305.068, 333.058, 525.58, -431.952, 176.961],
				[24.412, 129.588, 359.882, 145.235, 483.647, 259.235, 603.529, -61, -17.882],
				[-149.133, -176.956, 567.622, -206.2, 696.511, -4.911, 646.356, -269.578, -356.556],
				[-264.063, -295.187, 556.062, -274.562, 823, -33.312, 639.75, -194.937, -391.562],
				[-264.063, -295.187, 608.078, -326.578, 770.984, -85.328, 639.75, -350.984, -443.578],
				[-103.261, -575.87, 561.826, -495.304, 656.435, -325.522, 472.609, -164.391, -731.609],
				[178.2, 84.911, 387.589, 39.3, 352.811, 158.756, 548.156, -105.911, -160.156],
				[368.733, -111.4, 323.733, -111.4, 109.733, -59.267, 375.867, -59.267, -375.867],
				[-339.529, 304.401, 134.111, 87.643, 180.054, 334.033, 410.133, -513.468, 151.15],
				[333.158, -65.158, 338.947, -5.789, 258.526, -5.789, 398.316, 112.947, -338.947],
				[283.226, 96.581, 113.355, 196.839, 311.968, 322.129, 396.452, 407.548, -8.452],
				[-416.227, 340.227, 35.636, 96.136, 200.682, 371.136, 341.545, -391.045, 237.364],
				[285.8, -25.56, 178.96, 137.88, 357.92, 145.64, 357.92, 457, -155.68],
				[321.545, 278.545, -381.273, 324.455, -381.273, 449.364, -200.545, 321.545, 216.727],
				[391.9, 218.1, -236.6, 248.65, -285.65, 385.45, -69.25, 293.8, 99.8],
				[439.52, 170.48, -230.093, 281.827, -141.36, 418.627, 18.053, 528.253, 93.293],
				[174.812, 280.062, -329.5, 370.063, -329.5, 444.813, -164.75, 174.812, 254.75],
				[490.4, 119.6, -58.3, 138.3, -137.9, 275.1, 97.2, 312.5, -78.5],
				[443.427, 22.04, 13.227, 193.24, 184.427, 272.227, 263.413, 614.627, -92.213],
				[377.54, 196.559, -152.233, 220.827, -221.926, 355.832, 16.015, 220.203, 53.129],
				[448.5, 114.944, 19.681, 106.875, -90.181, 241.347, 157.722, 201.931, -107.597],
				[-394.879, 337.003, 19.6, 101.244, 186.348, 376.071, 328.49, -360.816, 236.312],
				[193.83, 19.189, 144.943, 136.189, 411.472, 286.434, 413.509, 400.283, -54.887],
				[308.491, 109.873, 19.6, 211.145, 222.982, 354.091, 321.164, 467.109, 16.509],
				[360.754, 64.385, 51.538, 205.338, 252.985, 310.538, 327.938, 531.954, -35.754],
				[-216.884, -180.565, 384.064, -67.308, 798.076, 146.955, 587.458, 95.662, -192.459],
				[-286.705, -260.934, 417.693, -147.03, 860.157, 91.898, 598.723, 53.741, -248.548],
				[-270.409, -278.162, 441.682, -176.253, 883.364, 65.487, 595.948, 73.24, -291.292],
				[-219.143, -648.286, 431.429, -433.714, 862.857, -216.857, 429.143, 212.286, -648.286],
				[89.117, 282.514, -124.036, 338.655, -71.818, 463.537, 116.579, 41.634, 237.524],
				[313.403, 220.859, -347.469, 332.577, -273.094, 424.127, -98.226, 377.858, 151.383],
				[176.387, 284.857, -431.763, 381.256, -431.763, 430.43, -251.035, 176.387, 241.972],
				[-292.476, 347.465, -10.21, 201.162, 54.32, 419.599, 266.309, -397.167, 259.274],
				[-228.572, 305.057, -64.38, 143.514, 91.336, 406.808, 262.652, -175.601, 212.065],
				[234.252, 160.236, -82.261, 219.298, 93.367, 399.996, 244.181, 366.936, 73.336],
				[291.313, 178.869, -214.247, 331.229, -130.175, 412.102, 18.985, 375.385, 133.375],
				[169.33, 284.548, -421.211, 382.523, -421.211, 431.355, -242.505, 169.33, 244.781],
				[167.836, 245.181, -281.13, 372.388, -251.365, 430.395, -95.916, 197.602, 223.124],
				[-312.853, 296.978, 123.775, 130.913, 198.7, 363.826, 423.535, -448.233, 167.263],
				[-111.601, 199.215, 268.817, 147.461, 345.213, 307.931, 538.003, -263.476, 53.268],
				[-313.743, 286.528, 131.697, 132.932, 204.221, 362.169, 436.575, -458.693, 167.552],
				[-353.134, 269.449, 166.818, 78.115, 192.789, 316.442, 452.139, -576.73, 145.928],
				[-258.827, 234.44, 191.271, 142.331, 258.605, 342.472, 499.444, -430.794, 135.943],
				[308.243, -40.243, 252.577, 87.225, 238.595, 87.225, 380.045, 184.369, -252.577],
				[291.976, -23.976, 169.435, 161.329, 265.706, 161.329, 354.741, 338, -169.435],
				[-244, -280.857, 536, -246.857, 823, -9.429, 628.286, -138.571, -379.143],
				[-244, -280.857, 586.821, -297.679, 772.179, -60.25, 628.286, -291.036, -429.964],
				[-48.442, -498.209, 493.302, -378.814, 670.14, -215.884, 449.767, 22.907, -656.233],
				[-203.2, -653.6, 495.2, -484.2, 823, -270, 450.4, 68.8, -709.4],
				[-203.2, -653.6, 559.05, -548.05, 759.15, -333.85, 450.4, -122.75, -773.25],
				[419.196, -28.284, 240.618, 31.084, 160.196, 80.249, 349.151, 198.986, -289.782],
				[305.2, -37.2, 171.2, 134, 342.4, 134, 342.4, 476.4, -171.2],
				[303.323, -35.323, 166.194, 140.258, 338.645, 140.258, 341.774, 475.774, -166.194],
				[380.983, 197.88, -340.94, 311.718, -270.889, 411.154, -96.53, 451.034, 116.957],
				[439.52, 170.48, -157.233, 208.967, -214.22, 345.767, 18.053, 309.673, 20.433],
				[480.586, 99.216, 0.964, 105.459, -114.874, 230.18, 131.928, 242.667, -125.685],
				[404.943, 14.511, 33.305, 200.351, 208.688, 260.933, 279.727, 580.326, -93.887],
				[-125.091, -556.909, 383.545, -346.591, 789.455, -139.818, 409.455, 280.818, -590.318],
				[390.146, 186.266, -138.2, 212.885, -208.51, 348.006, 31.936, 228.838, 36.668],
				[-132.269, -233.885, 347.654, -116.885, 746.385, 111.423, 524.308, 187.5, -260.115],
				[-261.786, -250.65, 416.77, -136.285, 854.619, 98.885, 592.526, 77.21, -256.525],
				[-177.676, -604.054, 423.135, -390.865, 846.27, -180.919, 426.378, 245.459, -633.081],
				[-101.309, 230.811, 120.143, 167.984, 194.459, 361.888, 420.023, -217.302, 101.547],
				[329.477, 205.913, -360.314, 331.092, -295.461, 407.846, -120.629, 394.33, 132.551],
				[-288.296, 292.643, 109.08, 137.016, 183.738, 368.796, 411.804, -418.067, 164.582],
				[-167.333, -605.778, 459.333, -418.444, 823, -210.222, 438.444, 164.444, -667.556],
				[-167.333, -605.778, 520.194, -479.306, 762.139, -271.083, 438.444, -18.139, -728.417]
			],

			axisNames: [
				'Objective 1',
				'Objective 2',
				'Objective 3',
				'Objective 4',
				'Objective 5',
				'Objective 6',
				'Objective 7',
				'Objective 8',
				'Objective 9'
			],
			axisPositions: [
				0, 0.07199594, 0.14275124, 0.2157817, 0.43685506, 0.53958175, 0.84041824, 0.9223382, 1
			],
			axisSigns: [1, 1, 1, 1, 1, 1, 1, 1, 1],
			groups: [
				2, 2, 3, 2, 3, 1, 2, 2, 2, 3, 3, 3, 3, 1, 3, 2, 1, 3, 3, 3, 2, 1, 2, 1, 2, 2, 2, 2, 2, 2, 2,
				2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 2, 2, 1, 3, 3, 3, 1, 1, 2, 2, 2, 1, 1, 2,
				1, 1, 2, 1, 2, 3, 2, 2, 2, 2, 3, 3, 2, 3, 3, 3, 3, 3, 3, 3, 2, 3, 1, 2, 1, 1, 1, 1, 1, 1, 1,
				1, 1, 2, 1, 1, 1, 3, 3, 3, 3, 1, 1, 1, 2, 2, 1, 1, 1, 1, 2, 3, 2, 2, 2, 3, 1, 3, 3, 3, 3, 3,
				3, 1, 1, 1, 1, 1, 1, 3, 1, 3, 3, 3, 2, 1, 2, 3, 3
			],
			axisOrder: [1, 8, 5, 3, 0, 7, 4, 2, 6],
			options: {
				bands: true,
				solutions: true,
				medians: true,
				quantile: 0.25
			},
			clusterVisibility: { 1: true, 2: true, 3: true } // Default: both clusters visible
		}
	});
</script>

<Story name="Default" />

<Story
	name="SmallData"
	args={{
		data: [
			[0.1, 0.7, 0.4],
			[0.3, 0.6, 0.5],
			[0.2, 0.65, 0.45],
			[0.8, 0.1, 0.6],
			[0.85, 0.2, 0.7],
			[0.75, 0.15, 0.65]
		],
		axisNames: ['Objective 1', 'Objective 2', 'Objective 3'],
		axisPositions: [0, 0.5, 1],
		axisSigns: [1, 1, 1],
		groups: [1, 1, 1, 2, 2, 2],
		axisOrder: [0, 1, 2],
		options: {
			bands: true,
			solutions: true,
			medians: true,
			quantile: 0.25
		},
		clusterVisibility: { 1: true, 2: true }
	}}
/>
